import{_ as K}from"./SakuraPage.vue_vue_type_style_index_0_lang.Csrl0MhX.js";import{_ as N}from"./SakuraPostList.DRFzXxDV.js";import"./chunks/pinia.C8xpNjyg.js";import{a as T,u as x}from"./chunks/vue-router._bgINN5_.js";import{t as D,v as U,w as j,m as M,x as O,n as W,o as F}from"./app.C9BwLGJy.js";import{x as R,M as $,K as S,R as G,a0 as B,a3 as l,a2 as t,P as k,a6 as _,a4 as b,af as C,V as d,ak as P,a1 as g,a8 as y,T as h,$ as H,ai as J,a7 as z}from"./framework.DIhz9aLV.js";import"./chunks/dayjs.BsdSHi3w.js";import{u as V}from"./chunks/vue-i18n.BQpbHoSW.js";import"./SakuraMultiColumns.vue_vue_type_script_setup_true_lang.ZKi9iEbF.js";import"./SakuraImageCard.DLNNM-pW.js";import"./SakuraPostDate.DIsTRA-w.js";/* empty css                    */import"./chunks/nprogress.Cm54BOVh.js";function Q(m){const i=R(!1),{top:c}=D(m);return U(m,([{isIntersecting:o}])=>{i.value=o}),{show:()=>{i.value||window.scrollTo(0,c.value)}}}const X={class:"category-list-item inline-flex cursor-pointer items-center"},Y={key:0,"i-ri-folder-add-line":""},Z={key:1,style:{color:"var(--sakura-c-primary)"},"i-ri-folder-reduce-line":""},I={key:0},ee={m:"l-1",font:"serif black"},te=$({__name:"SakuraCategory",props:{parentKey:{},category:{},level:{},collapsable:{type:Boolean,default:!0}},setup(m){const i=m,c=T(),a=x(),o=S(()=>{const e=a.query.category||"";return Array.isArray(e)?[e]:e.split("/")}),u=R(i.collapsable),{t:p}=V(),{locale:f}=V();function n(e){const s=f.value==="zh-CN"?"zh":f.value;return e[`title_${s}`]?e[`title_${s}`]:e.title}const v=R(),{show:w}=Q(v);function L(e){c.push({query:{category:e}}),w()}return G(()=>{const e=document.querySelector(".post-collapse-container");e&&(v.value=e)}),(e,s)=>{const q=B("SakuraCategory",!0),A=B("RouterLink");return t(),l(k,null,[_("li",X,[_("span",{class:"folder-action inline-flex",onClick:s[0]||(s[0]=r=>u.value=!u.value)},[u.value?(t(),l("div",Y)):(t(),l("div",Z))]),_("span",{class:"category-name",m:"l-1",onClick:s[1]||(s[1]=r=>L(e.parentKey))},C(e.category.name==="Uncategorized"?d(p)("category.uncategorized"):e.category.name)+" ["+C(e.category.total)+"] ",1)]),u.value?b("v-if",!0):(t(),l("ul",I,[(t(!0),l(k,null,P(e.category.children.values(),(r,E)=>(t(),l("li",{key:E,class:"sakura-sidebar-item",m:"l-4 y-1"},[d(j)(r)?(t(),g(q,{key:0,"parent-key":e.parentKey?`${e.parentKey}/${r.name}`:r.name,category:r,collapsable:!o.value.includes(r.name)},null,8,["parent-key","category","collapsable"])):(t(),l(k,{key:1},[r.title?(t(),g(A,{key:0,to:r.path||"",class:"inline-flex items-center"},{default:y(()=>[s[2]||(s[2]=_("div",{"i-ri-file-text-line":""},null,-1)),_("span",ee,C(n(r)),1)]),_:2},1032,["to"])):b("v-if",!0)],64))]))),128))]))],64)}}}),ae=$({__name:"SakuraCategories",props:{categories:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(m){const i=x(),c=S(()=>{const a=i.query.category||"";return Array.isArray(a)?[a]:a.split("/")});return(a,o)=>{const u=te;return t(!0),l(k,null,P(a.categories.values(),p=>(t(),l("ul",{key:p.name,class:"category-list",m:"l-4"},[h(u,{"parent-key":p.name,category:p,level:a.level+1,collapsable:!c.value.includes(p.name)},null,8,["parent-key","category","level","collapsable"])]))),128)}}}),oe=H(ae,[["__scopeId","data-v-111676b2"]]),se={text:"center",class:"yun-text-light",p:"2"},ne={key:0},re=$({__name:"SakuraCategoriesLayout",setup(m){const i=M(),{t:c}=V(),a=x(),o=S(()=>a.query.category||""),u=O(),p=S(()=>i.postList.filter(n=>n.categories&&o.value!=="Uncategorized"?typeof n.categories=="string"?n.categories===o.value:n.categories.join("/").startsWith(o.value)&&n.categories[0]===o.value.split("/")[0]:!n.categories&&o.value==="Uncategorized"?n.categories===void 0:!1));return(f,n)=>{const v=oe,w=N,L=B("RouterView"),e=K;return t(),g(e,{class:"sakura-categories-page"},{default:y(()=>[h(L,null,{default:y(({Component:s})=>[(t(),g(J(s),null,{"main-content":y(()=>[z(f.$slots,"content",{},()=>[_("div",null,[_("div",se,C(d(c)("counter.categories",Array.from(d(u).children).length)),1),h(v,{categories:d(u).children},null,8,["categories"])])])]),"main-nav-before":y(()=>[z(f.$slots,"posts",{},()=>[o.value?(t(),l("div",ne,[h(w,{w:"full",posts:p.value},null,8,["posts"])])):b("v-if",!0),b(` <SakuraCard v-if="curCategory" class="post-collapse-container" m="t-4" w="full">
            <SakuraPostCollapse w="full" m="b-4" p="x-20 lt-sm:x-5" :posts="posts" />
          </SakuraCard> `)])]),_:3}))]),_:3})]),_:3})}}}),Ce=$({__name:"categories",setup(m){return W([F({"@type":"CollectionPage"})]),(i,c)=>{const a=re;return t(),g(a)}}});export{Ce as default};
