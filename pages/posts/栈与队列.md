---
title: 栈与队列
date: '2025-08-14 00:00:00 +0800'
updated: '2025-08-22 01:17:08 +0800'
categories: 笔记
tags:
  - 学习
  - 编程
  - C++
cover: 'https://pic.akorin.icu/20250814101334375.webp'
codeHeightLimit: 500
toc: true
time_warning: true
end: true
---

> 栈与队列需要依赖数组或者链表，且都不是一个单独的数据结构。

<!-- more -->

**栈** 和 **队列** 本质上是抽象数据结构（ADT, Abstract Data Type），它们定义的是操作规则，而不是具体的存储方式。

## 栈

- 允许插入、删除的一端称为栈顶（`top`）。
- 另一端称为栈底（`bottom`），固定不动。

> 特点： 先进后出、后进先出(LIFO\FILO)，像个弹夹。

### 顺序栈

顺序栈是依赖于数组实现。
- 栈顶指针 `top` 用于记录当前栈顶元素的位置。
- 栈底位置固定，一般为数组下标 0。
- 当 `top == -1`（或 0 元素不存在）时，栈为空。
- 当 `top` 指向数组最后一个位置时，栈满（需要扩容或报错）。

#### 基本操作

1. 初始化：申请固定大小的数组空间，并将 `top` 置为 -1（空栈）。
2. 入栈（Push）：判断栈是否已满，若未满，`top++` 后在 `top` 位置插入新元素。
3. 出栈（Pop）：判断栈是否为空，若不为空，取出 `top` 位置的元素然后`top--` 。
4. 栈满 ： `top == sizeof(arr)/sizeof(arr[0])`
5. 取栈顶元素（GetTop）：直接访问 `top` 位置的元素，不修改 `top`。

#### 出栈数据的规律

例如 `[1,2,3,4,5]` 入栈，此时如下情况的出栈都是有可能的：
- `5 4 3 2 1`
- `4 3 5 2 1`

但是 `4 3 1 5 2`是不可能的，因为 `1` 不可能直接越过 `2` 就出栈了。

### 链式栈

顾名思义就是用链表实现的栈结构，同样可以定义 `Node` 类型的指针 `top` 作为栈顶指针。
- 栈顶指针 `top` 用于记录当前栈顶元素的位置。
- 当 `top == nullptr`（或 0 元素不存在）时，栈为空。
- 当 `top` 指向数组最后一个位置时，栈满（需要扩容或报错）

#### 基本操作

1. 初始化：申请固定大小的数组空间，并将 `top` 置为 `nullptr`（空栈）。
2. 入栈（Push）：利用头插法入栈。令 `top = new Node`，然后 `top->next = head->next; head_->next = top;`。
3. 出栈（Pop）：判断栈是否为空，若不为空，即删除 `top` 位置的元素然后`head->next = top->next; delete top; top = head->next` 。
4. 栈满 ： 链式指针不存在判断栈满，除非系统分配不了堆内存。
5. 访问栈顶元素（GetTop）：直接返回 `top->data` 。

## 队列

队列（Queue）是一种 **先进先出（FIFO, First In First Out）**的数据结构，可以类比为排队买票：先来的人先走，后到的人只能排在队尾等候。

### 环形队列

- `front` : 队头
- `rear` : 队尾

#### 基本操作

1. 入队 ：只能在队尾（rear）插入元素， `rear = (rear + 1) % size;`
2. 出队 ：只能在队头（front）删除元素， `front = (front + 1) % size;`
3. 顺序是固定的，不能随机访问中间元素（不像数组/向量那样支持 []）
